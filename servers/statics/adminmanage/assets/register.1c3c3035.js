var I=Object.defineProperty;var C=Object.getOwnPropertySymbols;var M=Object.prototype.hasOwnProperty,N=Object.prototype.propertyIsEnumerable;var b=(o,r,a)=>r in o?I(o,r,{enumerable:!0,configurable:!0,writable:!0,value:a}):o[r]=a,k=(o,r)=>{for(var a in r||(r={}))M.call(r,a)&&b(o,a,r[a]);if(C)for(var a of C(r))N.call(r,a)&&b(o,a,r[a]);return o};import{_ as O,r as m,d as c,o as f,c as y,e as n,f as s,w as i,p as S,g as U,a as E,i as h,j as L,k as T,l as F,m as H,s as J,E as Q,n as j}from"./index.23926b0b.js";import{s as A}from"./password.1bdec74d.js";const K=o=>(S("data-v-6cbcec38"),o=o(),U(),o),X={id:"defaultId1",class:"u7c9ea"},D={id:"idzaOzuF",class:"register"},G=K(()=>n("h3",{id:"idwRdC3M",class:"title"}," guiplan\u540E\u53F0\u7BA1\u7406\u7CFB\u7EDF ",-1)),Z={id:"idmdwLKa",class:"register-code ub54f8"},$=["src"],W={key:0,id:"idbrAGTR"},Y={key:1,id:"idSXJ6Bb"},ee={id:"idSCooFg",class:"u5766c"},se=H(" \u4F7F\u7528\u5DF2\u6709\u8D26\u6237\u767B\u5F55 "),oe=K(()=>n("div",{id:"idwIohBx",class:"el-register-footer"},[n("span",{id:"id5du3LK"}," Copyright \xA9 2018-2022 ruoyi.vip All Rights Reserved. ")],-1)),re={setup(o){const r=E(),{proxy:a}=j(),x=m(!0),R=m({username:[{required:!0,trigger:"blur",message:"\u8BF7\u8F93\u5165\u60A8\u7684\u8D26\u53F7"},{min:2,max:20,message:"\u7528\u6237\u8D26\u53F7\u957F\u5EA6\u5FC5\u987B\u4ECB\u4E8E 2 \u548C 20 \u4E4B\u95F4",trigger:"blur"}],password:[{required:!0,trigger:"blur",message:"\u8BF7\u8F93\u5165\u60A8\u7684\u5BC6\u7801"},{min:5,max:20,message:"\u7528\u6237\u5BC6\u7801\u957F\u5EA6\u5FC5\u987B\u4ECB\u4E8E 5 \u548C 20 \u4E4B\u95F4",trigger:"blur"}],confirmPassword:[{required:!0,trigger:"blur",message:"\u8BF7\u518D\u6B21\u8F93\u5165\u60A8\u7684\u5BC6\u7801"},{required:!0,validator:(w,e,d)=>{t.value.password!==e?d(new Error("\u4E24\u6B21\u8F93\u5165\u7684\u5BC6\u7801\u4E0D\u4E00\u81F4")):d()},trigger:"blur"}],code:[{required:!0,trigger:"change",message:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801"}]}),t=m({username:"",password:"",confirmPassword:"",code:"",uuid:""}),V=m("");var q="/admin";const p=m(!1);async function v(){V.value=q+"/user/getimagecode?"+Math.random()}async function g(){a.$refs.registerRef.validate(async w=>{if(w){p.value=!0;try{let e=k({},t.value);e.password=A(e.password);let d=await J(e);p.value=!1;const u=t.value.username;Q.alert("<font color='red'>\u606D\u559C\u4F60\uFF0C\u60A8\u7684\u8D26\u53F7 "+u+" \u6CE8\u518C\u6210\u529F\uFF01</font>","\u7CFB\u7EDF\u63D0\u793A",{dangerouslyUseHTMLString:!0,type:"success"}).then(()=>{r.push("/login")}).catch(()=>{})}catch{p.value=!1,x&&v()}return}})}return v(),(w,e)=>{const d=c("svg-icon"),u=c("el-input"),_=c("el-form-item"),z=c("el-button"),B=c("router-link"),P=c("el-form");return f(),y("div",X,[n("div",D,[s(P,{id:"idBCfEfM",class:"register-form ud4206",ref:"registerRef",model:t.value,rules:R.value},{default:i(()=>[G,s(_,{id:"idQ8asex",prop:"username"},{default:i(()=>[s(u,{id:"idFVxeH6",modelValue:t.value.username,"onUpdate:modelValue":e[0]||(e[0]=l=>t.value.username=l),type:"text",size:"large","auto-complete":"off",placeholder:"\u8D26\u53F7"},{prefix:i(()=>[s(d,{id:"idxCijMJ",class:"el-input__icon input-icon","icon-class":"user"})]),_:1},8,["modelValue"])]),_:1}),s(_,{id:"id5QHdKz",prop:"password"},{default:i(()=>[s(u,{id:"idS5o6iL",modelValue:t.value.password,"onUpdate:modelValue":e[1]||(e[1]=l=>t.value.password=l),type:"password",size:"large","auto-complete":"off",placeholder:"\u5BC6\u7801",onKeyup:h(g,["enter"])},{prefix:i(()=>[s(d,{id:"idoK3X7p",class:"el-input__icon input-icon","icon-class":"password"})]),_:1},8,["modelValue","onKeyup"])]),_:1}),s(_,{id:"iduKCvEQ",prop:"confirmPassword"},{default:i(()=>[s(u,{id:"idJLO669",modelValue:t.value.confirmPassword,"onUpdate:modelValue":e[2]||(e[2]=l=>t.value.confirmPassword=l),type:"password",placeholder:"\u786E\u8BA4\u5BC6\u7801",onKeyup:h(g,["enter"]),size:"large"},{prefix:i(()=>[s(d,{id:"id2O4NfV",class:"el-input__icon input-icon","icon-class":"password"})]),_:1},8,["modelValue","onKeyup"])]),_:1}),x.value?(f(),L(_,{key:0,id:"idoRsDeg",prop:"code"},{default:i(()=>[s(u,{id:"idC8epLR",modelValue:t.value.code,"onUpdate:modelValue":e[3]||(e[3]=l=>t.value.code=l),class:"ue1feb",size:"large","auto-complete":"off",placeholder:"\u9A8C\u8BC1\u7801",onKeyup:h(g,["enter"])},{prefix:i(()=>[s(d,{id:"idN6rb8N",class:"el-input__icon input-icon","icon-class":"validCode"})]),_:1},8,["modelValue","onKeyup"]),n("div",Z,[n("img",{id:"idOifgVZ",onClick:v,class:"register-code-img",src:V.value},null,8,$)])]),_:1})):T("",!0),s(_,{id:"idlx4s4l"},{default:i(()=>[s(z,{id:"iduph4xs",class:"u07811",loading:p.value,size:"large",type:"primary",onClick:F(g,["prevent"])},{default:i(()=>[p.value?(f(),y("span",Y," \u6CE8 \u518C \u4E2D... ")):(f(),y("span",W," \u6CE8 \u518C "))]),_:1},8,["loading","onClick"]),n("div",ee,[s(B,{id:"idOqCVe3",class:"link-type",to:"/login"},{default:i(()=>[se]),_:1})])]),_:1})]),_:1},8,["model","rules"]),oe])])}}};var le=O(re,[["__scopeId","data-v-6cbcec38"]]);export{le as default};
