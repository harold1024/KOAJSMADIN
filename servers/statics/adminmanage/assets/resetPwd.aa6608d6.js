import{s as w}from"./password.1bdec74d.js";import{G as V,r as b,d as n,o as v,c as x,f as s,w as r,x as d,e as m,N as h,n as y}from"./index.23926b0b.js";const k={id:"defaultId1"},q=m("span",{id:"id3HrxJu"},"\u4FDD\u5B58 ",-1),C=m("span",{id:"idIwFlFV"},"\u5173\u95ED ",-1),U={setup(I){const{proxy:i}=y(),f=(u,o,a)=>{e.newPassword!==o?a(new Error("\u4E24\u6B21\u8F93\u5165\u7684\u5BC6\u7801\u4E0D\u4E00\u81F4")):a()};function _(){i.$refs.pwdRef.validate(u=>{u&&h({oldpassword:w(e.oldPassword),newpassword:w(e.newPassword)}).then(o=>{i.$modal.msgSuccess("\u4FEE\u6539\u6210\u529F")})})}function c(){i.$tab.closePage()}var e=V({oldPassword:void 0,newPassword:void 0,confirmPassword:void 0}),P=b({oldPassword:[{required:!0,message:"\u65E7\u5BC6\u7801\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],newPassword:[{required:!0,message:"\u65B0\u5BC6\u7801\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"},{min:6,max:20,message:"\u957F\u5EA6\u5728 6 \u5230 20 \u4E2A\u5B57\u7B26",trigger:"blur"}],confirmPassword:[{required:!0,message:"\u786E\u8BA4\u5BC6\u7801\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"},{required:!0,validator:f,trigger:"blur"}]});return(u,o)=>{const a=n("el-input"),t=n("el-form-item"),p=n("el-button"),g=n("el-form");return v(),x("div",k,[s(g,{id:"idh74bEu",ref:"pwdRef",model:d(e),rules:d(P),"label-width":"80px"},{default:r(()=>[s(t,{id:"idwPrxkI",label:"\u65E7\u5BC6\u7801",prop:"oldPassword"},{default:r(()=>[s(a,{id:"idsDvgs8",modelValue:d(e).oldPassword,"onUpdate:modelValue":o[0]||(o[0]=l=>d(e).oldPassword=l),placeholder:"\u8BF7\u8F93\u5165\u65E7\u5BC6\u7801",type:"password","show-password":""},null,8,["modelValue"])]),_:1}),s(t,{id:"idaVVT1J",label:"\u65B0\u5BC6\u7801",prop:"newPassword"},{default:r(()=>[s(a,{id:"idXMQT2l",modelValue:d(e).newPassword,"onUpdate:modelValue":o[1]||(o[1]=l=>d(e).newPassword=l),placeholder:"\u8BF7\u8F93\u5165\u65B0\u5BC6\u7801",type:"password","show-password":""},null,8,["modelValue"])]),_:1}),s(t,{id:"idLQRJJG",label:"\u786E\u8BA4\u5BC6\u7801",prop:"confirmPassword"},{default:r(()=>[s(a,{id:"idGXhZi5",modelValue:d(e).confirmPassword,"onUpdate:modelValue":o[2]||(o[2]=l=>d(e).confirmPassword=l),placeholder:"\u8BF7\u786E\u8BA4\u5BC6\u7801",type:"password","show-password":""},null,8,["modelValue"])]),_:1}),s(t,{id:"idvFVPtd"},{default:r(()=>[s(p,{id:"idPLQkHH",onClick:_,type:"primary"},{default:r(()=>[q]),_:1}),s(p,{id:"idSAlZv5",onClick:c,type:"danger"},{default:r(()=>[C]),_:1})]),_:1})]),_:1},8,["model","rules"])])}}};export{U as default};
